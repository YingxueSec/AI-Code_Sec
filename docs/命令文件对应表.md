# 🎯 命令与文件分析对应表

## 📋 快速对照表

| 命令类型 | 命令示例 | 分析文件数 | 分析内容 | 用时 |
|----------|----------|------------|----------|------|
| **默认分析** | `python main.py project` | 284/425 (67%) | 全栈代码 | 189秒 |
| **前端专项** | `--include-extensions .html .css .js` | 39/425 (9%) | 前端文件 | 4秒 |
| **后端专项** | `--exclude-extensions .html .css .js` | 245/425 (58%) | 后端文件 | 120秒 |
| **Java专项** | `--include-paths src/main/java` | 235/425 (55%) | Java源码 | 100秒 |
| **快速扫描** | `--quick --max-files 50` | 50/425 (12%) | 核心文件 | 30秒 |
| **无过滤** | `--no-filter` | 425/425 (100%) | 所有文件 | 300秒+ |

## 🔍 详细命令分析

### 1️⃣ **默认全面分析**
```bash
python main.py /path/to/project
```
**📊 分析范围**:
- ✅ Java文件: 235个 (业务逻辑、控制器、服务层)
- ✅ HTML文件: 39个 (页面模板、表单)
- ✅ JavaScript: 45个 (前端交互、AJAX)
- ✅ CSS文件: 28个 (样式、布局)
- ✅ XML配置: 25个 (Spring配置、Maven配置)
- ✅ JSON配置: 18个 (应用配置、API配置)
- ❌ 过滤文件: 141个 (依赖库、编译产物、静态资源)

**🎯 检测重点**: SQL注入、XSS、权限绕过、配置安全、跨文件漏洞

### 2️⃣ **前端安全专项**
```bash
python main.py /path/to/project --include-extensions .html .css .js .jsx .tsx .vue
```
**📊 分析范围**:
- ✅ HTML文件: 39个 (所有HTML页面和模板)
- ✅ CSS文件: 28个 (所有样式文件)
- ✅ JavaScript: 45个 (所有JS脚本)
- ✅ React组件: JSX/TSX文件
- ✅ Vue组件: .vue文件
- ❌ 后端代码: 0个 (完全排除)

**🎯 检测重点**: XSS攻击、CSRF漏洞、DOM操作安全、点击劫持、敏感信息泄露

### 3️⃣ **后端安全专项**
```bash
python main.py /path/to/project --exclude-extensions .html .css .js .jsx .tsx .vue
```
**📊 分析范围**:
- ✅ Java文件: 235个 (所有Java源码)
- ✅ XML配置: 25个 (Spring、MyBatis配置)
- ✅ JSON配置: 18个 (应用配置)
- ✅ SQL文件: 8个 (数据库脚本)
- ✅ 其他后端: Python、PHP等
- ❌ 前端文件: 0个 (完全排除)

**🎯 检测重点**: SQL注入、反序列化、权限绕过、命令注入、配置安全

### 4️⃣ **Java项目标准分析**
```bash
python main.py /path/to/project --include-paths src/main/java --include-extensions .java
```
**📊 分析范围**:
- ✅ Java源码: 235个 (src/main/java目录下)
- ❌ 测试代码: 0个 (src/test排除)
- ❌ 配置文件: 0个 (只要Java文件)
- ❌ 前端文件: 0个 (只要Java文件)

**🎯 检测重点**: Java特定安全问题、Spring框架安全、MyBatis安全

### 5️⃣ **React项目专用**
```bash
python main.py /path/to/project \
  --include-extensions .jsx .tsx .js .ts .html .css \
  --exclude-paths node_modules/ build/ test/
```
**📊 分析范围**:
- ✅ React组件: JSX/TSX文件
- ✅ TypeScript: TS文件
- ✅ JavaScript: JS文件
- ✅ HTML模板: HTML文件
- ✅ 样式文件: CSS文件
- ❌ 依赖库: node_modules/排除
- ❌ 编译产物: build/排除

**🎯 检测重点**: React安全最佳实践、组件安全、状态管理安全

### 6️⃣ **微服务API专项**
```bash
python main.py /path/to/microservice \
  --include-paths src/main/ api/ controllers/ \
  --exclude-extensions .html .css \
  --max-files 200
```
**📊 分析范围**:
- ✅ API控制器: Controller文件
- ✅ 服务层: Service文件
- ✅ 数据层: Repository/DAO文件
- ✅ 配置文件: 应用配置
- ❌ 前端文件: 完全排除
- ❌ 测试文件: 默认过滤

**🎯 检测重点**: API安全、权限控制、输入验证、业务逻辑漏洞

## 🚀 性能优化策略

### ⚡ **快速分析策略**
```bash
# 最快速度 (30秒内)
python main.py project --quick --max-files 50 --no-timing

# 前端快速检查 (5秒内)  
python main.py project --include-extensions .html .js --max-files 20

# 后端核心检查 (60秒内)
python main.py project --include-extensions .java .py --max-files 100
```

### 🎯 **精确分析策略**
```bash
# Java Web精确分析
python main.py project \
  --include-extensions .java .jsp .xml \
  --include-paths src/ webapp/ \
  --exclude-paths test/ target/

# 前端精确分析
python main.py project \
  --include-extensions .html .css .js .jsx .tsx \
  --exclude-paths node_modules/ build/ dist/

# API安全精确分析
python main.py project \
  --include-paths api/ controllers/ services/ \
  --exclude-extensions .html .css \
  --min-confidence 0.6
```

### 💾 **缓存利用策略**
```bash
# 第一次分析 (创建缓存)
python main.py project --verbose --output first_audit.json

# 重复分析 (利用缓存，4725倍提升)
python main.py project --verbose --output second_audit.json

# 增量分析 (部分缓存命中)
python main.py project --max-files 100 --output incremental_audit.json
```

## 📈 实际使用建议

### 🎯 **根据项目类型选择策略**

#### **Java企业项目**
```bash
python main.py project \
  --template security_audit_chinese \
  --include-extensions .java .jsp .xml .sql \
  --exclude-paths test/ target/ \
  --verbose
```

#### **Node.js项目**
```bash
python main.py project \
  --template security_audit_chinese \
  --include-extensions .js .ts .json \
  --exclude-paths node_modules/ test/ \
  --verbose
```

#### **Python Web项目**
```bash
python main.py project \
  --template security_audit_chinese \
  --include-extensions .py .html .js \
  --exclude-paths venv/ __pycache__/ test/ \
  --verbose
```

#### **前端SPA项目**
```bash
python main.py project \
  --template security_audit_chinese \
  --include-extensions .html .css .js .jsx .tsx .vue \
  --exclude-paths node_modules/ build/ dist/ \
  --verbose
```

### 🔄 **根据审计目标选择策略**

#### **合规审计** (全面)
```bash
python main.py project --template owasp_top_10_2021 --verbose --all
```

#### **漏洞扫描** (高效)
```bash
python main.py project --quick --min-confidence 0.7 --max-files 200
```

#### **代码审查** (精确)
```bash
python main.py project --no-filter --template security_audit_chinese --verbose
```

---

**💡 提示**: 选择合适的分析策略可以显著提升审计效率和准确性！根据项目特点和审计目标，灵活组合使用各种参数。
